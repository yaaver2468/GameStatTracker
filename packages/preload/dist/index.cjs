"use strict";
Object.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: "Module" } });
const electron = require("electron");
const sqlite3 = require("sqlite3");
const versions = process.versions;
const nodeFetch = require("node-fetch");
function closeProgram() {
  electron.ipcRenderer.send("closeProgram");
}
function minimizeProgram() {
  electron.ipcRenderer.send("minimizeProgram");
}
function openUrl(url) {
  electron.shell.openExternal(url);
}
async function checkUpdate() {
  const updateURL = "https://raw.githubusercontent.com/GuardianSeeker/SniperHunter/master/version";
  const version = 3;
  const res = await nodeFetch(updateURL);
  const latestVersion = parseFloat(await res.text());
  return latestVersion > version;
}
async function addReplay() {
  const result = await electron.ipcRenderer.invoke("addReplay");
  return result;
}
class GameElimination {
  id;
  gameID;
  time;
  killerID;
  killedID;
  knocked;
  weapon;
  constructor(data = {
    id: 0,
    gameID: "",
    time: 0,
    killerID: "",
    killedID: "",
    knocked: false,
    weapon: ""
  }) {
    this.id = data.id;
    this.gameID = data.gameID;
    this.time = parseInt(data.time.toString());
    this.killerID = data.killerID;
    this.killedID = data.killedID;
    this.knocked = data.knocked;
    this.weapon = data.weapon;
  }
}
class GamePlayer {
  id;
  playerID;
  gameID;
  isBot;
  team;
  kills;
  placement;
  constructor(data = {
    id: 0,
    playerID: "",
    gameID: "",
    isBot: true,
    team: 0,
    kills: 0,
    placement: 999
  }) {
    this.id = data.id;
    this.playerID = data.playerID;
    this.gameID = data.gameID;
    this.isBot = data.isBot;
    this.team = data.team;
    this.kills = data.kills;
    this.placement = data.placement;
  }
}
class GameStat {
  gameID;
  owner;
  timestamp;
  replayName;
  mode;
  bots;
  players;
  duration;
  placement;
  kills;
  assists;
  accuracy;
  damageDealt;
  damageTaken;
  distanceTravelled;
  constructor(data = {
    gameID: "",
    owner: "",
    timestamp: new Date(),
    replayName: "",
    mode: "",
    bots: 0,
    players: 0,
    duration: 0,
    placement: 0,
    kills: 0,
    assists: 0,
    accuracy: 0,
    damageDealt: 0,
    damageTaken: 0,
    distanceTravelled: 0
  }) {
    this.gameID = data.gameID;
    this.owner = data.owner;
    this.timestamp = data.timestamp;
    this.replayName = data.replayName;
    this.mode = data.mode;
    this.bots = data.bots;
    this.players = data.players;
    this.duration = data.duration;
    this.placement = data.placement;
    this.kills = data.kills;
    this.assists = data.assists;
    this.accuracy = data.accuracy;
    this.damageDealt = data.damageDealt;
    this.damageTaken = data.damageTaken;
    this.distanceTravelled = data.distanceTravelled;
  }
}
class Player {
  playerID;
  username;
  isBot;
  platform;
  skin;
  snipes;
  constructor(data = {
    playerID: "",
    username: "AI",
    isBot: true,
    platform: "epic",
    skin: "epic",
    snipes: 0
  }) {
    this.playerID = data.playerID;
    this.username = data.username;
    this.isBot = data.isBot;
    this.platform = data.platform;
    this.skin = data.skin;
    this.snipes = data.snipes;
  }
}
const initStatements = [
  `CREATE TABLE IF NOT EXISTS 'GameEliminations' (
    'id' INTEGER PRIMARY KEY AUTOINCREMENT,
    'gameID' VARCHAR(255) NOT NULL,
    'time' INTEGER NOT NULL,
    'killerID' VARCHAR(255) NOT NULL,
    'killedID' VARCHAR(255) NOT NULL,
    'knocked' TINYINT(1) NOT NULL,
    'weapon' VARCHAR(255) NOT NULL
  )`,
  `CREATE TABLE IF NOT EXISTS 'GamePlayers' (
    'id' INTEGER PRIMARY KEY AUTOINCREMENT,
    'playerID' VARCHAR(255) NOT NULL,
    'gameID' VARCHAR(255) NOT NULL,
    'isBot' TINYINT(1) NOT NULL,
    'team' INTEGER NOT NULL,
    'kills' INTEGER NOT NULL DEFAULT 0,
    'placement' INTEGER NOT NULL
  )`,
  `CREATE TABLE IF NOT EXISTS 'GameStats' (
    'gameID' VARCHAR(255) NOT NULL UNIQUE PRIMARY KEY,
    'owner' VARCHAR(255) NOT NULL,
    'timestamp' DATETIME NOT NULL UNIQUE,
    'replayName' VARCHAR(255) NOT NULL,
    'mode' VARCHAR(255) NOT NULL,
    'bots' INTEGER NOT NULL,
    'players' INTEGER NOT NULL,
    'duration' INTEGER DEFAULT -1,
    'placement' INTEGER NOT NULL,
    'kills' INTEGER DEFAULT -1,
    'assists' INTEGER DEFAULT 0,
    'accuracy' DOUBLE PRECISION DEFAULT '-1',
    'damageDealt' INTEGER DEFAULT -1,
    'damageTaken' INTEGER DEFAULT -1,
    'distanceTravelled' DOUBLE PRECISION DEFAULT '-1'
  )`,
  `CREATE TABLE IF NOT EXISTS 'Players' (
    'playerID' VARCHAR(255) NOT NULL UNIQUE PRIMARY KEY,
    'username' VARCHAR(255) NOT NULL,
    'isBot' VARCHAR(255) NOT NULL,
    'platform' VARCHAR(255),
    'skin' VARCHAR(255),
    'snipes' INTEGER NOT NULL DEFAULT 1
  )`
];
async function getAll(sql) {
  return new Promise(function(resolve, reject) {
    db.database.all(sql, function(err, rows) {
      if (err) {
        console.log(err);
        return reject(err);
      }
      resolve(rows);
    });
  });
}
async function serialize(sql) {
  return new Promise((resolve, reject) => {
    db.database.serialize(() => {
      function dbRun(x) {
        if (x < sql.length) {
          db.database.run(sql[x], (err) => {
            if (err) {
              console.log(err);
              return reject(false);
            } else {
              dbRun(++x);
            }
          });
        }
        resolve(true);
      }
      dbRun(0);
    });
  });
}
async function exec(sql) {
  return new Promise(function(resolve, reject) {
    db.database.exec(sql, function(err) {
      if (err) {
        console.log(err);
        return reject(false);
      }
      resolve(true);
    });
  });
}
async function getSingle(sql) {
  return new Promise(function(resolve, reject) {
    db.database.get(sql, function(err, rows) {
      if (err) {
        console.log(err);
        return reject(err);
      }
      resolve(rows);
    });
  });
}
function whereInGenerator(data) {
  return `(${"'" + data.join("','") + "'"})`;
}
class Database {
  database;
  constructor() {
    this.database = new sqlite3.Database("database.db", (err) => {
      if (err)
        console.error("Database opening error: ", err);
    });
    initStatements.forEach((sql) => {
      this.database.run(sql);
    });
  }
  addReplay = async (gamers, kills, players, stat) => {
    function escape(line) {
      return line.replaceAll("'", "''");
    }
    let sql;
    sql = `INSERT INTO GameStats VALUES ('${stat.gameID}', '${stat.owner}', '${stat.timestamp.toISOString()}', '${escape(stat.replayName)}', '${stat.mode}', ${stat.bots}, ${stat.players}, ${stat.duration}, ${stat.placement}, ${stat.kills}, ${stat.assists}, ${stat.accuracy}, ${stat.damageDealt}, ${stat.damageTaken}, ${stat.distanceTravelled})`;
    if (!await exec(sql)) {
      return false;
    }
    sql = `INSERT INTO GamePlayers VALUES ${gamers.map((g) => `(NULL, '${g.playerID}', '${g.gameID}', ${g.isBot ? 1 : 0}, ${g.team}, ${g.kills}, ${g.placement})`).join(", ")}`;
    if (!await exec(sql)) {
      return false;
    }
    if (kills.length > 0) {
      sql = `INSERT INTO GameEliminations VALUES ${kills.map((k) => `(NULL, '${k.gameID}', ${k.time}, '${k.killerID}', '${k.killedID}', ${k.knocked}, '${k.weapon}')`).join(", ")}`;
      if (!await exec(sql)) {
        return false;
      }
    }
    const serializeql = [];
    const playerSql = [];
    for (let x = 0; x < players.length; x++) {
      const p = players[x];
      const existingPlayer = await this.getPlayer(p.playerID);
      const platform = p.platform == null ? "NULL" : `'${p.platform}'`;
      let skin = p.skin == null ? "NULL" : `'${p.skin}'`;
      if (existingPlayer.playerID.length > 0) {
        if (existingPlayer.skin != null && skin == "NULL") {
          skin = existingPlayer.skin;
        }
        serializeql.push(`UPDATE Players SET snipes = snipes + 1, platform = ${platform}, username = '${escape(p.username)}', skin = ${skin} WHERE playerID = '${p.playerID}'`);
      } else {
        playerSql.push(`('${p.playerID}', '${escape(p.username)}', ${p.isBot}, ${platform}, ${skin}, ${p.snipes})`);
      }
    }
    if (playerSql.length > 0) {
      sql = `INSERT INTO Players VALUES ${playerSql.join(", ")}`;
      if (!await exec(sql)) {
        return false;
      }
    }
    return await serialize(serializeql);
  };
  getMatchHistory = async (page = 1) => {
    const limit = 25;
    const result = await getAll(`SELECT * FROM GameStats ORDER BY timestamp DESC LIMIT ${limit} OFFSET ${limit * page - limit}`);
    const matches = [];
    result.forEach((e) => {
      matches.push(new GameStat(e));
    });
    return matches;
  };
  getGamerHistory = async (page = 1, playerID) => {
    const limit = 25;
    const matches = [];
    const gamerGames = await getAll(`SELECT gameID FROM GamePlayers WHERE playerID = '${playerID}'`);
    const result = await getAll(`SELECT * FROM GameStats WHERE gameID IN ${whereInGenerator(gamerGames.map((g) => g.gameID))} ORDER BY timestamp DESC LIMIT ${limit} OFFSET ${limit * page - limit}`);
    result.forEach((e) => {
      matches.push(new GameStat(e));
    });
    return matches;
  };
  getEliminations = async (gameID) => {
    const result = await getAll(`SELECT * FROM GameEliminations WHERE gameID='${gameID}' ORDER BY id`);
    const eliminations = [];
    result.forEach((e) => {
      eliminations.push(new GameElimination(e));
    });
    return eliminations;
  };
  getGamers = async (gameID) => {
    const result = await getAll(`SELECT * FROM GamePlayers WHERE gameID='${gameID}' ORDER BY team`);
    const gamers = [];
    result.forEach((e) => {
      gamers.push(new GamePlayer(e));
    });
    return gamers;
  };
  getGamerPlayers = async (gamers) => {
    const filtered = gamers.map((g) => `${g.playerID}`);
    const result = await getAll(`SELECT * FROM Players WHERE playerID IN ${whereInGenerator(filtered)}`);
    const players = [];
    result.forEach((e) => {
      players.push(new Player(e));
    });
    return players;
  };
  getGameStats = async (gameID) => {
    const result = await getSingle(`SELECT * FROM GameStats WHERE gameID='${gameID}'`);
    return new GameStat(result);
  };
  getPlayer = async (playerID) => {
    const result = await getSingle(`SELECT * FROM Players WHERE playerID='${playerID}'`);
    return new Player(result);
  };
  getPlayerGames = async (playerID) => {
    const result = await getAll(`SELECT * FROM GamePlayers WHERE playerID='${playerID}'`);
    const stats = [];
    result.forEach((e) => {
      stats.push(new GameStat(e));
    });
    return stats;
  };
  getLastGameID = async () => {
    const result = await getSingle("SELECT * FROM GameStats ORDER BY timestamp DESC LIMIT 1");
    return result != null ? result.gameID : null;
  };
  getSnipers = async () => {
    const result = await getAll("SELECT * FROM Players ORDER BY snipes DESC");
    const players = [];
    result.forEach((e) => {
      players.push(new Player(e));
    });
    return players;
  };
  deleteMatch = async (gameID) => {
    await exec(`DELETE FROM GameStats WHERE gameID='${gameID}'`);
    await exec(`UPDATE Players SET snipes = snipes - 1 WHERE playerID IN (SELECT playerID FROM GamePlayers WHERE gameID = '${gameID}')`);
    await exec(`DELETE FROM GamePlayers WHERE gameID='${gameID}'`);
    return await exec(`DELETE FROM GameEliminations WHERE gameID='${gameID}'`);
  };
}
const db = new Database();
exports.addReplay = addReplay;
exports.checkUpdate = checkUpdate;
exports.closeProgram = closeProgram;
exports.db = db;
exports.minimizeProgram = minimizeProgram;
exports.openUrl = openUrl;
exports.versions = versions;
const { contextBridge } = require("electron");
;
contextBridge.exposeInMainWorld("__electron_preload__addReplay", exports.addReplay);
;
contextBridge.exposeInMainWorld("__electron_preload__checkUpdate", exports.checkUpdate);
;
contextBridge.exposeInMainWorld("__electron_preload__closeProgram", exports.closeProgram);
;
contextBridge.exposeInMainWorld("__electron_preload__db", exports.db);
;
contextBridge.exposeInMainWorld("__electron_preload__minimizeProgram", exports.minimizeProgram);
;
contextBridge.exposeInMainWorld("__electron_preload__openUrl", exports.openUrl);
;
contextBridge.exposeInMainWorld("__electron_preload__versions", exports.versions);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9zcmMvdmVyc2lvbnMudHMiLCIuLi9zcmMvZWxlY3Ryb25GdW5jdGlvbnMudHMiLCIuLi9zcmMvbW9kZWxzL0dhbWVFbGltaW5hdGlvbi50cyIsIi4uL3NyYy9tb2RlbHMvR2FtZVBsYXllci50cyIsIi4uL3NyYy9tb2RlbHMvR2FtZVN0YXQudHMiLCIuLi9zcmMvbW9kZWxzL1BsYXllci50cyIsIi4uL3NyYy9kYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmVyc2lvbnMgPSBwcm9jZXNzLnZlcnNpb25zO1xuIiwiaW1wb3J0IHtpcGNSZW5kZXJlciwgc2hlbGx9IGZyb20gJ2VsZWN0cm9uJztcbmNvbnN0IG5vZGVGZXRjaCA9IHJlcXVpcmUoJ25vZGUtZmV0Y2gnKTtcblxuZnVuY3Rpb24gY2xvc2VQcm9ncmFtKCkge1xuICBpcGNSZW5kZXJlci5zZW5kKCdjbG9zZVByb2dyYW0nKTtcbn1cblxuZnVuY3Rpb24gbWluaW1pemVQcm9ncmFtKCkge1xuICBpcGNSZW5kZXJlci5zZW5kKCdtaW5pbWl6ZVByb2dyYW0nKTtcbn1cblxuZnVuY3Rpb24gb3BlblVybCh1cmw6c3RyaW5nKSB7XG4gIHNoZWxsLm9wZW5FeHRlcm5hbCh1cmwpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjaGVja1VwZGF0ZSgpIHtcbiAgY29uc3QgdXBkYXRlVVJMID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9HdWFyZGlhblNlZWtlci9TbmlwZXJIdW50ZXIvbWFzdGVyL3ZlcnNpb24nO1xuICBjb25zdCB2ZXJzaW9uID0gMztcbiAgY29uc3QgcmVzID0gYXdhaXQgbm9kZUZldGNoKHVwZGF0ZVVSTCk7XG4gIGNvbnN0IGxhdGVzdFZlcnNpb24gPSBwYXJzZUZsb2F0KGF3YWl0IHJlcy50ZXh0KCkpO1xuICByZXR1cm4gbGF0ZXN0VmVyc2lvbiA+IHZlcnNpb247XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFkZFJlcGxheSgpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaXBjUmVuZGVyZXIuaW52b2tlKCdhZGRSZXBsYXknKTtcbiAgcmV0dXJuIHJlc3VsdCBhcyBzdHJpbmc7XG59XG5cbmV4cG9ydCB7Y2xvc2VQcm9ncmFtLCBtaW5pbWl6ZVByb2dyYW0sIG9wZW5VcmwsIGFkZFJlcGxheSwgY2hlY2tVcGRhdGV9O1xuIiwiY2xhc3MgR2FtZUVsaW1pbmF0aW9uIHtcbiAgaWQ6IG51bWJlcjtcbiAgZ2FtZUlEOiBzdHJpbmc7XG4gIHRpbWU6IG51bWJlcjtcbiAga2lsbGVySUQ6IHN0cmluZztcbiAga2lsbGVkSUQ6IHN0cmluZztcbiAga25vY2tlZDogYm9vbGVhbjtcbiAgd2VhcG9uOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZGF0YSA9IHtcbiAgICBpZDogMCxcbiAgICBnYW1lSUQ6ICcnLFxuICAgIHRpbWU6IDAsXG4gICAga2lsbGVySUQ6ICcnLFxuICAgIGtpbGxlZElEOiAnJyxcbiAgICBrbm9ja2VkOiBmYWxzZSxcbiAgICB3ZWFwb246ICcnLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQ7XG4gICAgdGhpcy5nYW1lSUQgPSBkYXRhLmdhbWVJRDtcbiAgICB0aGlzLnRpbWUgPSBwYXJzZUludChkYXRhLnRpbWUudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5raWxsZXJJRCA9IGRhdGEua2lsbGVySUQ7XG4gICAgdGhpcy5raWxsZWRJRCA9IGRhdGEua2lsbGVkSUQ7XG4gICAgdGhpcy5rbm9ja2VkID0gZGF0YS5rbm9ja2VkO1xuICAgIHRoaXMud2VhcG9uID0gZGF0YS53ZWFwb247XG4gIH1cbn1cblxuZXhwb3J0IHsgR2FtZUVsaW1pbmF0aW9uIH07XG4iLCJjbGFzcyBHYW1lUGxheWVyIHtcbiAgaWQ6IG51bWJlcjtcbiAgcGxheWVySUQ6IHN0cmluZztcbiAgZ2FtZUlEOiBzdHJpbmc7XG4gIGlzQm90OiBib29sZWFuO1xuICB0ZWFtOiBudW1iZXI7XG4gIGtpbGxzOiBudW1iZXI7XG4gIHBsYWNlbWVudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGEgPSB7XG4gICAgaWQ6IDAsXG4gICAgcGxheWVySUQ6ICcnLFxuICAgIGdhbWVJRDogJycsXG4gICAgaXNCb3Q6IHRydWUsXG4gICAgdGVhbTogMCxcbiAgICBraWxsczogMCxcbiAgICBwbGFjZW1lbnQ6IDk5OSxcbiAgfSkge1xuICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgIHRoaXMucGxheWVySUQgPSBkYXRhLnBsYXllcklEO1xuICAgIHRoaXMuZ2FtZUlEID0gZGF0YS5nYW1lSUQ7XG4gICAgdGhpcy5pc0JvdCA9IGRhdGEuaXNCb3Q7XG4gICAgdGhpcy50ZWFtID0gZGF0YS50ZWFtO1xuICAgIHRoaXMua2lsbHMgPSBkYXRhLmtpbGxzO1xuICAgIHRoaXMucGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgR2FtZVBsYXllciB9O1xuIiwiY2xhc3MgR2FtZVN0YXQge1xuICBnYW1lSUQ6IHN0cmluZztcbiAgb3duZXI6IHN0cmluZztcbiAgdGltZXN0YW1wOiBEYXRlO1xuICByZXBsYXlOYW1lOiBzdHJpbmc7XG4gIG1vZGU6IHN0cmluZztcbiAgYm90czogbnVtYmVyO1xuICBwbGF5ZXJzOiBudW1iZXI7XG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIHBsYWNlbWVudDogbnVtYmVyO1xuICBraWxsczogbnVtYmVyO1xuICBhc3Npc3RzOiBudW1iZXI7XG4gIGFjY3VyYWN5OiBudW1iZXI7XG4gIGRhbWFnZURlYWx0OiBudW1iZXI7XG4gIGRhbWFnZVRha2VuOiBudW1iZXI7XG4gIGRpc3RhbmNlVHJhdmVsbGVkOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZGF0YSA9IHtcbiAgICBnYW1lSUQ6ICcnLFxuICAgIG93bmVyOiAnJyxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgcmVwbGF5TmFtZTogJycsXG4gICAgbW9kZTogJycsXG4gICAgYm90czogMCxcbiAgICBwbGF5ZXJzOiAwLFxuICAgIGR1cmF0aW9uOiAwLFxuICAgIHBsYWNlbWVudDogMCxcbiAgICBraWxsczogMCxcbiAgICBhc3Npc3RzOiAwLFxuICAgIGFjY3VyYWN5OiAwLFxuICAgIGRhbWFnZURlYWx0OiAwLFxuICAgIGRhbWFnZVRha2VuOiAwLFxuICAgIGRpc3RhbmNlVHJhdmVsbGVkOiAwLFxuICB9KSB7XG4gICAgdGhpcy5nYW1lSUQgPSBkYXRhLmdhbWVJRDtcbiAgICB0aGlzLm93bmVyID0gZGF0YS5vd25lcjtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IGRhdGEudGltZXN0YW1wO1xuICAgIHRoaXMucmVwbGF5TmFtZSA9IGRhdGEucmVwbGF5TmFtZTtcbiAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgdGhpcy5ib3RzID0gZGF0YS5ib3RzO1xuICAgIHRoaXMucGxheWVycyA9IGRhdGEucGxheWVycztcbiAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICB0aGlzLnBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgIHRoaXMua2lsbHMgPSBkYXRhLmtpbGxzO1xuICAgIHRoaXMuYXNzaXN0cyA9IGRhdGEuYXNzaXN0cztcbiAgICB0aGlzLmFjY3VyYWN5ID0gZGF0YS5hY2N1cmFjeTtcbiAgICB0aGlzLmRhbWFnZURlYWx0ID0gZGF0YS5kYW1hZ2VEZWFsdDtcbiAgICB0aGlzLmRhbWFnZVRha2VuID0gZGF0YS5kYW1hZ2VUYWtlbjtcbiAgICB0aGlzLmRpc3RhbmNlVHJhdmVsbGVkID0gZGF0YS5kaXN0YW5jZVRyYXZlbGxlZDtcbiAgfVxufVxuXG5leHBvcnQgeyBHYW1lU3RhdCB9O1xuIiwiY2xhc3MgUGxheWVyIHtcbiAgcGxheWVySUQ6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgaXNCb3Q6IGJvb2xlYW47XG4gIHBsYXRmb3JtOiBzdHJpbmc7XG4gIHNraW46IHN0cmluZztcbiAgc25pcGVzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZGF0YSA9IHtcbiAgICBwbGF5ZXJJRDogJycsXG4gICAgdXNlcm5hbWU6ICdBSScsXG4gICAgaXNCb3Q6IHRydWUsXG4gICAgcGxhdGZvcm06ICdlcGljJyxcbiAgICBza2luOiAnZXBpYycsXG4gICAgc25pcGVzOiAwLFxuICB9KSB7XG4gICAgdGhpcy5wbGF5ZXJJRCA9IGRhdGEucGxheWVySUQ7XG4gICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWU7XG4gICAgdGhpcy5pc0JvdCA9IGRhdGEuaXNCb3Q7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IGRhdGEucGxhdGZvcm07XG4gICAgdGhpcy5za2luID0gZGF0YS5za2luO1xuICAgIHRoaXMuc25pcGVzID0gZGF0YS5zbmlwZXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGxheWVyIH07XG4iLCJpbXBvcnQge0RhdGFiYXNlIGFzIHNxbGl0ZX0gZnJvbSAnc3FsaXRlMyc7XG5pbXBvcnQge0dhbWVFbGltaW5hdGlvbn0gZnJvbSAnLi9tb2RlbHMvR2FtZUVsaW1pbmF0aW9uJztcbmltcG9ydCB7R2FtZVBsYXllcn0gZnJvbSAnLi9tb2RlbHMvR2FtZVBsYXllcic7XG5pbXBvcnQge0dhbWVTdGF0fSBmcm9tICcuL21vZGVscy9HYW1lU3RhdCc7XG5pbXBvcnQge1BsYXllcn0gZnJvbSAnLi9tb2RlbHMvUGxheWVyJztcblxuY29uc3QgaW5pdFN0YXRlbWVudHMgPSBbXG4gIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAnR2FtZUVsaW1pbmF0aW9ucycgKFxuICAgICdpZCcgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICdnYW1lSUQnIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAndGltZScgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAna2lsbGVySUQnIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAna2lsbGVkSUQnIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAna25vY2tlZCcgVElOWUlOVCgxKSBOT1QgTlVMTCxcbiAgICAnd2VhcG9uJyBWQVJDSEFSKDI1NSkgTk9UIE5VTExcbiAgKWAsXG4gIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAnR2FtZVBsYXllcnMnIChcbiAgICAnaWQnIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAncGxheWVySUQnIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAnZ2FtZUlEJyBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgJ2lzQm90JyBUSU5ZSU5UKDEpIE5PVCBOVUxMLFxuICAgICd0ZWFtJyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICdraWxscycgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgJ3BsYWNlbWVudCcgSU5URUdFUiBOT1QgTlVMTFxuICApYCxcbiAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTICdHYW1lU3RhdHMnIChcbiAgICAnZ2FtZUlEJyBWQVJDSEFSKDI1NSkgTk9UIE5VTEwgVU5JUVVFIFBSSU1BUlkgS0VZLFxuICAgICdvd25lcicgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICd0aW1lc3RhbXAnIERBVEVUSU1FIE5PVCBOVUxMIFVOSVFVRSxcbiAgICAncmVwbGF5TmFtZScgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICdtb2RlJyBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgJ2JvdHMnIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgJ3BsYXllcnMnIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgJ2R1cmF0aW9uJyBJTlRFR0VSIERFRkFVTFQgLTEsXG4gICAgJ3BsYWNlbWVudCcgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAna2lsbHMnIElOVEVHRVIgREVGQVVMVCAtMSxcbiAgICAnYXNzaXN0cycgSU5URUdFUiBERUZBVUxUIDAsXG4gICAgJ2FjY3VyYWN5JyBET1VCTEUgUFJFQ0lTSU9OIERFRkFVTFQgJy0xJyxcbiAgICAnZGFtYWdlRGVhbHQnIElOVEVHRVIgREVGQVVMVCAtMSxcbiAgICAnZGFtYWdlVGFrZW4nIElOVEVHRVIgREVGQVVMVCAtMSxcbiAgICAnZGlzdGFuY2VUcmF2ZWxsZWQnIERPVUJMRSBQUkVDSVNJT04gREVGQVVMVCAnLTEnXG4gIClgLFxuICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgJ1BsYXllcnMnIChcbiAgICAncGxheWVySUQnIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCBVTklRVUUgUFJJTUFSWSBLRVksXG4gICAgJ3VzZXJuYW1lJyBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgJ2lzQm90JyBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgJ3BsYXRmb3JtJyBWQVJDSEFSKDI1NSksXG4gICAgJ3NraW4nIFZBUkNIQVIoMjU1KSxcbiAgICAnc25pcGVzJyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMVxuICApYCxcbl07XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbChzcWw6c3RyaW5nKTpQcm9taXNlPGFueVtdPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZGIuZGF0YWJhc2UuYWxsKHNxbCwgZnVuY3Rpb24gKGVyciwgcm93cykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKHJvd3MpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2VyaWFsaXplKHNxbDpzdHJpbmdbXSk6UHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGIuZGF0YWJhc2Uuc2VyaWFsaXplKCgpID0+IHtcbiAgICAgIGZ1bmN0aW9uIGRiUnVuKHg6bnVtYmVyKSB7XG4gICAgICAgIGlmICh4IDwgc3FsLmxlbmd0aCkge1xuICAgICAgICAgIGRiLmRhdGFiYXNlLnJ1bihzcWxbeF0sIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgZGJSdW4oKyt4KTsgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9XG4gICAgICBkYlJ1bigwKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4ZWMoc3FsOnN0cmluZyk6UHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZGIuZGF0YWJhc2UuZXhlYyhzcWwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuIHJlamVjdChmYWxzZSk7XG4gICAgICB9XG4gICAgICByZXNvbHZlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0U2luZ2xlKHNxbDpzdHJpbmcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBkYi5kYXRhYmFzZS5nZXQoc3FsLCBmdW5jdGlvbiAoZXJyLCByb3dzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUocm93cyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB3aGVyZUluR2VuZXJhdG9yKGRhdGE6c3RyaW5nW10pIHtcbiAgcmV0dXJuIGAoJHsnXFwnJyArIGRhdGEuam9pbignXFwnLFxcJycpICsgJ1xcJyd9KWA7XG59XG5cbmNsYXNzIERhdGFiYXNlIHtcbiAgZGF0YWJhc2U6IHNxbGl0ZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRhdGFiYXNlID0gbmV3IHNxbGl0ZSgnZGF0YWJhc2UuZGInLCAoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBvcGVuaW5nIGVycm9yOiAnLCBlcnIpO1xuICAgIH0pO1xuICAgIGluaXRTdGF0ZW1lbnRzLmZvckVhY2goKHNxbCkgPT4ge1xuICAgICAgdGhpcy5kYXRhYmFzZS5ydW4oc3FsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZFJlcGxheSA9IGFzeW5jIChnYW1lcnM6R2FtZVBsYXllcltdLCBraWxsczpHYW1lRWxpbWluYXRpb25bXSwgcGxheWVyczpQbGF5ZXJbXSwgc3RhdDpHYW1lU3RhdCkgPT4ge1xuICAgIGZ1bmN0aW9uIGVzY2FwZShsaW5lOnN0cmluZykge1xuICAgICAgcmV0dXJuIGxpbmUucmVwbGFjZUFsbChcIidcIiwgXCInJ1wiKTtcbiAgICB9XG4gICAgbGV0IHNxbDpzdHJpbmc7XG4gICAgc3FsID0gYElOU0VSVCBJTlRPIEdhbWVTdGF0cyBWQUxVRVMgKCcke3N0YXQuZ2FtZUlEfScsICcke3N0YXQub3duZXJ9JywgJyR7c3RhdC50aW1lc3RhbXAudG9JU09TdHJpbmcoKX0nLCAnJHtlc2NhcGUoc3RhdC5yZXBsYXlOYW1lKX0nLCAnJHtzdGF0Lm1vZGV9JywgJHtzdGF0LmJvdHN9LCAke3N0YXQucGxheWVyc30sICR7c3RhdC5kdXJhdGlvbn0sICR7c3RhdC5wbGFjZW1lbnR9LCAke3N0YXQua2lsbHN9LCAke3N0YXQuYXNzaXN0c30sICR7c3RhdC5hY2N1cmFjeX0sICR7c3RhdC5kYW1hZ2VEZWFsdH0sICR7c3RhdC5kYW1hZ2VUYWtlbn0sICR7c3RhdC5kaXN0YW5jZVRyYXZlbGxlZH0pYDtcbiAgICBpZiAoIWF3YWl0IGV4ZWMoc3FsKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBzcWwgPSBgSU5TRVJUIElOVE8gR2FtZVBsYXllcnMgVkFMVUVTICR7Z2FtZXJzLm1hcChnID0+IGAoTlVMTCwgJyR7Zy5wbGF5ZXJJRH0nLCAnJHtnLmdhbWVJRH0nLCAke2cuaXNCb3QgPyAxIDogMH0sICR7Zy50ZWFtfSwgJHtnLmtpbGxzfSwgJHtnLnBsYWNlbWVudH0pYCkuam9pbignLCAnKX1gO1xuICAgIGlmICghYXdhaXQgZXhlYyhzcWwpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmIChraWxscy5sZW5ndGggPiAwKSB7XG4gICAgICBzcWwgPSBgSU5TRVJUIElOVE8gR2FtZUVsaW1pbmF0aW9ucyBWQUxVRVMgJHtraWxscy5tYXAoayA9PiBgKE5VTEwsICcke2suZ2FtZUlEfScsICR7ay50aW1lfSwgJyR7ay5raWxsZXJJRH0nLCAnJHtrLmtpbGxlZElEfScsICR7ay5rbm9ja2VkfSwgJyR7ay53ZWFwb259JylgKS5qb2luKCcsICcpfWA7XG4gICAgICBpZiAoIWF3YWl0IGV4ZWMoc3FsKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB9XG4gICAgY29uc3Qgc2VyaWFsaXplcWw6c3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBwbGF5ZXJTcWw6c3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHBsYXllcnMubGVuZ3RoOyB4KyspIHtcbiAgICAgIGNvbnN0IHAgPSBwbGF5ZXJzW3hdO1xuICAgICAgY29uc3QgZXhpc3RpbmdQbGF5ZXIgPSBhd2FpdCB0aGlzLmdldFBsYXllcihwLnBsYXllcklEKTtcbiAgICAgIGNvbnN0IHBsYXRmb3JtID0gcC5wbGF0Zm9ybSA9PSBudWxsID8gJ05VTEwnIDogYCcke3AucGxhdGZvcm19J2A7XG4gICAgICBsZXQgc2tpbiA9IHAuc2tpbiA9PSBudWxsID8gJ05VTEwnIDogYCcke3Auc2tpbn0nYDtcbiAgICAgIGlmIChleGlzdGluZ1BsYXllci5wbGF5ZXJJRC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChleGlzdGluZ1BsYXllci5za2luICE9IG51bGwgJiYgc2tpbiA9PSAnTlVMTCcpIHtcbiAgICAgICAgICBza2luID0gZXhpc3RpbmdQbGF5ZXIuc2tpbjtcbiAgICAgICAgfVxuICAgICAgICBzZXJpYWxpemVxbC5wdXNoKGBVUERBVEUgUGxheWVycyBTRVQgc25pcGVzID0gc25pcGVzICsgMSwgcGxhdGZvcm0gPSAke3BsYXRmb3JtfSwgdXNlcm5hbWUgPSAnJHtlc2NhcGUocC51c2VybmFtZSl9Jywgc2tpbiA9ICR7c2tpbn0gV0hFUkUgcGxheWVySUQgPSAnJHtwLnBsYXllcklEfSdgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBwbGF5ZXJTcWwucHVzaChgKCcke3AucGxheWVySUR9JywgJyR7ZXNjYXBlKHAudXNlcm5hbWUpfScsICR7cC5pc0JvdH0sICR7cGxhdGZvcm19LCAke3NraW59LCAke3Auc25pcGVzfSlgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBsYXllclNxbC5sZW5ndGggPiAwKSB7XG4gICAgICBzcWwgPSAoYElOU0VSVCBJTlRPIFBsYXllcnMgVkFMVUVTICR7cGxheWVyU3FsLmpvaW4oJywgJyl9YCk7XG4gICAgICBpZiAoIWF3YWl0IGV4ZWMoc3FsKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHNlcmlhbGl6ZShzZXJpYWxpemVxbCk7XG4gIH07XG5cbiAgZ2V0TWF0Y2hIaXN0b3J5ID0gYXN5bmMgKHBhZ2UgPSAxKTpQcm9taXNlPEdhbWVTdGF0W10+ID0+IHtcbiAgICBjb25zdCBsaW1pdCA9IDI1O1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEFsbChgU0VMRUNUICogRlJPTSBHYW1lU3RhdHMgT1JERVIgQlkgdGltZXN0YW1wIERFU0MgTElNSVQgJHtsaW1pdH0gT0ZGU0VUICR7KGxpbWl0ICogcGFnZSkgLSBsaW1pdH1gKTtcbiAgICBjb25zdCBtYXRjaGVzOkdhbWVTdGF0W10gPSBbXTtcbiAgICByZXN1bHQuZm9yRWFjaChlID0+IHtcbiAgICAgIG1hdGNoZXMucHVzaChuZXcgR2FtZVN0YXQoZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaGVzO1xuICB9O1xuXG4gIGdldEdhbWVySGlzdG9yeSA9IGFzeW5jIChwYWdlID0gMSwgcGxheWVySUQ6c3RyaW5nKTpQcm9taXNlPEdhbWVTdGF0W10+ID0+IHtcbiAgICBjb25zdCBsaW1pdCA9IDI1O1xuICAgIGNvbnN0IG1hdGNoZXM6R2FtZVN0YXRbXSA9IFtdO1xuICAgIGNvbnN0IGdhbWVyR2FtZXMgPSBhd2FpdCBnZXRBbGwoYFNFTEVDVCBnYW1lSUQgRlJPTSBHYW1lUGxheWVycyBXSEVSRSBwbGF5ZXJJRCA9ICcke3BsYXllcklEfSdgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRBbGwoYFNFTEVDVCAqIEZST00gR2FtZVN0YXRzIFdIRVJFIGdhbWVJRCBJTiAke3doZXJlSW5HZW5lcmF0b3IoZ2FtZXJHYW1lcy5tYXAoZyA9PiBnLmdhbWVJRCkpfSBPUkRFUiBCWSB0aW1lc3RhbXAgREVTQyBMSU1JVCAke2xpbWl0fSBPRkZTRVQgJHsobGltaXQgKiBwYWdlKSAtIGxpbWl0fWApO1xuICAgIHJlc3VsdC5mb3JFYWNoKGUgPT4ge1xuICAgICAgbWF0Y2hlcy5wdXNoKG5ldyBHYW1lU3RhdChlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoZXM7XG4gIH07XG5cbiAgZ2V0RWxpbWluYXRpb25zID0gYXN5bmMgKGdhbWVJRDogc3RyaW5nKTogUHJvbWlzZTxHYW1lRWxpbWluYXRpb25bXT4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEFsbChgU0VMRUNUICogRlJPTSBHYW1lRWxpbWluYXRpb25zIFdIRVJFIGdhbWVJRD0nJHtnYW1lSUR9JyBPUkRFUiBCWSBpZGApO1xuICAgIGNvbnN0IGVsaW1pbmF0aW9uczpHYW1lRWxpbWluYXRpb25bXSA9IFtdO1xuICAgIHJlc3VsdC5mb3JFYWNoKGUgPT4ge1xuICAgICAgZWxpbWluYXRpb25zLnB1c2gobmV3IEdhbWVFbGltaW5hdGlvbihlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVsaW1pbmF0aW9ucztcbiAgfTtcblxuICBnZXRHYW1lcnMgPSBhc3luYyAoZ2FtZUlEOiBzdHJpbmcpOiBQcm9taXNlPEdhbWVQbGF5ZXJbXT4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEFsbChgU0VMRUNUICogRlJPTSBHYW1lUGxheWVycyBXSEVSRSBnYW1lSUQ9JyR7Z2FtZUlEfScgT1JERVIgQlkgdGVhbWApO1xuICAgIGNvbnN0IGdhbWVyczpHYW1lUGxheWVyW10gPSBbXTtcbiAgICByZXN1bHQuZm9yRWFjaChlID0+IHtcbiAgICAgIGdhbWVycy5wdXNoKG5ldyBHYW1lUGxheWVyKGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ2FtZXJzO1xuICB9O1xuXG4gIGdldEdhbWVyUGxheWVycyA9ICBhc3luYyAoZ2FtZXJzOiBHYW1lUGxheWVyW10pOiBQcm9taXNlPFBsYXllcltdPiA9PiB7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBnYW1lcnMubWFwKGcgPT4gYCR7Zy5wbGF5ZXJJRH1gKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRBbGwoYFNFTEVDVCAqIEZST00gUGxheWVycyBXSEVSRSBwbGF5ZXJJRCBJTiAke3doZXJlSW5HZW5lcmF0b3IoZmlsdGVyZWQpfWApO1xuICAgIGNvbnN0IHBsYXllcnM6UGxheWVyW10gPSBbXTtcbiAgICByZXN1bHQuZm9yRWFjaChlID0+IHtcbiAgICAgIHBsYXllcnMucHVzaChuZXcgUGxheWVyKGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGxheWVycztcbiAgfTtcblxuICBnZXRHYW1lU3RhdHMgPSBhc3luYyAoZ2FtZUlEOiBzdHJpbmcpOiBQcm9taXNlPEdhbWVTdGF0PiA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2luZ2xlKGBTRUxFQ1QgKiBGUk9NIEdhbWVTdGF0cyBXSEVSRSBnYW1lSUQ9JyR7Z2FtZUlEfSdgKTtcbiAgICByZXR1cm4gbmV3IEdhbWVTdGF0KHJlc3VsdCk7XG4gIH07XG5cbiAgZ2V0UGxheWVyID0gYXN5bmMgKHBsYXllcklEOiBzdHJpbmcpOiBQcm9taXNlPFBsYXllcj4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFNpbmdsZShgU0VMRUNUICogRlJPTSBQbGF5ZXJzIFdIRVJFIHBsYXllcklEPScke3BsYXllcklEfSdgKTtcbiAgICByZXR1cm4gbmV3IFBsYXllcihyZXN1bHQpO1xuICB9O1xuXG4gIGdldFBsYXllckdhbWVzID0gYXN5bmMgKHBsYXllcklEOiBzdHJpbmcpOiBQcm9taXNlPEdhbWVTdGF0c1tdPiA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0QWxsKGBTRUxFQ1QgKiBGUk9NIEdhbWVQbGF5ZXJzIFdIRVJFIHBsYXllcklEPScke3BsYXllcklEfSdgKTtcbiAgICBjb25zdCBzdGF0czpHYW1lU3RhdHNbXSA9IFtdO1xuICAgIHJlc3VsdC5mb3JFYWNoKGUgPT4ge1xuICAgICAgc3RhdHMucHVzaChuZXcgR2FtZVN0YXQoZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBzdGF0cztcbiAgfTtcblxuICBnZXRMYXN0R2FtZUlEID0gYXN5bmMoKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRTaW5nbGUoJ1NFTEVDVCAqIEZST00gR2FtZVN0YXRzIE9SREVSIEJZIHRpbWVzdGFtcCBERVNDIExJTUlUIDEnKTtcbiAgICByZXR1cm4gcmVzdWx0ICE9IG51bGwgPyByZXN1bHQuZ2FtZUlEIDogbnVsbDtcbiAgfTtcblxuICBnZXRTbmlwZXJzID0gYXN5bmMoKTogUHJvbWlzZTxQbGF5ZXJbXT4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEFsbCgnU0VMRUNUICogRlJPTSBQbGF5ZXJzIE9SREVSIEJZIHNuaXBlcyBERVNDJyk7XG4gICAgY29uc3QgcGxheWVyczpQbGF5ZXJbXSA9IFtdO1xuICAgIHJlc3VsdC5mb3JFYWNoKGUgPT4ge1xuICAgICAgcGxheWVycy5wdXNoKG5ldyBQbGF5ZXIoZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBwbGF5ZXJzO1xuICB9O1xuXG4gIGRlbGV0ZU1hdGNoID0gYXN5bmMoZ2FtZUlEOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBhd2FpdCBleGVjKGBERUxFVEUgRlJPTSBHYW1lU3RhdHMgV0hFUkUgZ2FtZUlEPScke2dhbWVJRH0nYCk7XG4gICAgYXdhaXQgZXhlYyhgVVBEQVRFIFBsYXllcnMgU0VUIHNuaXBlcyA9IHNuaXBlcyAtIDEgV0hFUkUgcGxheWVySUQgSU4gKFNFTEVDVCBwbGF5ZXJJRCBGUk9NIEdhbWVQbGF5ZXJzIFdIRVJFIGdhbWVJRCA9ICcke2dhbWVJRH0nKWApO1xuICAgIGF3YWl0IGV4ZWMoYERFTEVURSBGUk9NIEdhbWVQbGF5ZXJzIFdIRVJFIGdhbWVJRD0nJHtnYW1lSUR9J2ApO1xuICAgIHJldHVybiBhd2FpdCBleGVjKGBERUxFVEUgRlJPTSBHYW1lRWxpbWluYXRpb25zIFdIRVJFIGdhbWVJRD0nJHtnYW1lSUR9J2ApO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgZGIgPSBuZXcgRGF0YWJhc2UoKTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBQSxXQUFBLFFBQUE7QUNDUCxNQUFBLFlBQUEsUUFBQSxZQUFBO0FBRUEsU0FBQSxlQUFBO0FBQ0UsV0FBQSxZQUFBLEtBQUEsY0FBQTtBQUNGO0FBRUEsU0FBQSxrQkFBQTtBQUNFLFdBQUEsWUFBQSxLQUFBLGlCQUFBO0FBQ0Y7QUFFQSxTQUFBLFFBQUEsS0FBQTtBQUNFLFdBQUEsTUFBQSxhQUFBLEdBQUE7QUFDRjtBQUVBLGVBQUEsY0FBQTtBQUNFLFFBQUEsWUFBQTtBQUNBLFFBQUEsVUFBQTtBQUNBLFFBQUEsTUFBQSxNQUFBLFVBQUEsU0FBQTtBQUNBLFFBQUEs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
